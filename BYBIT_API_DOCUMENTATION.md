# üìö Bybit API V5 - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

Bybit API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HMAC SHA256 –ø–æ–¥–ø–∏—Å—å –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

### –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–í—Å–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ API –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏:

```
X-BAPI-API-KEY: –≤–∞—à_–ø—É–±–ª–∏—á–Ω—ã–π_–∫–ª—é—á
X-BAPI-SIGNATURE: –ø–æ–¥–ø–∏—Å—å_–∑–∞–ø—Ä–æ—Å–∞
X-BAPI-TIMESTAMP: —Ç–µ–∫—É—â–µ–µ_–≤—Ä–µ–º—è_–≤_–º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
X-BAPI-RECV-WINDOW: 5000
Content-Type: application/json
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏

```swift
// –§–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏:
// timestamp + api_key + recv_window + query_string

// –ü—Ä–∏–º–µ—Ä:
// 1703123456789 + "your_api_key" + "5000" + "symbol=BTCUSDT&side=Buy&orderType=Market&qty=0.001&category=linear"

// –ê–ª–≥–æ—Ä–∏—Ç–º:
// 1. –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–æ–∫—É: timestamp + api_key + recv_window + query_string
// 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HMAC SHA256 —Å –≤–∞—à–∏–º secret_key
// 3. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ hex —Å—Ç—Ä–æ–∫—É
```

## üåê –ë–∞–∑–æ–≤—ã–µ URL

- **Testnet**: `https://api-testnet.bybit.com`
- **Mainnet**: `https://api.bybit.com`

## üìä –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### 1. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –∫–æ—à–µ–ª—å–∫–∞
```
GET /v5/account/wallet-balance
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `accountType` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –¢–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞ (UNIFIED, CONTRACT, SPOT)

**–û—Ç–≤–µ—Ç:**
```json
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "list": [
      {
        "accountType": "UNIFIED",
        "coin": [
          {
            "coin": "USDT",
            "walletBalance": "1000.00000000",
            "availableToWithdraw": "1000.00000000",
            "availableToSend": "1000.00000000"
          }
        ]
      }
    ]
  }
}
```

### 2. –ü–æ–∑–∏—Ü–∏–∏

#### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–∑–∏—Ü–∏–π
```
GET /v5/position/list
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `category` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –¢–∏–ø –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (linear, inverse, spot)
- `symbol` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞
- `settleCoin` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ú–æ–Ω–µ—Ç–∞ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞

**–û—Ç–≤–µ—Ç:**
```json
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "list": [
      {
        "symbol": "BTCUSDT",
        "side": "Buy",
        "size": "0.001",
        "entryPrice": "50000.00",
        "markPrice": "51000.00",
        "unrealizedPnl": "1.00",
        "leverage": "10",
        "margin": "5.00",
        "liquidationPrice": "45000.00"
      }
    ]
  }
}
```

### 3. –¢–æ—Ä–≥–æ–≤–ª—è

#### –†–∞–∑–º–µ—â–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞
```
POST /v5/order/create
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "side": "Buy",
  "orderType": "Market",
  "qty": "0.001",
  "timeInForce": "GTC"
}
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `category`: –¢–∏–ø –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- `symbol`: –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞
- `side`: –°—Ç–æ—Ä–æ–Ω–∞ (Buy/Sell)
- `orderType`: –¢–∏–ø –æ—Ä–¥–µ—Ä–∞ (Market/Limit/Stop/StopLimit)
- `qty`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
- `timeInForce`: –í—Ä–µ–º—è –¥–µ–π—Å—Ç–≤–∏—è (GTC, IOC, FOK)

**–û—Ç–≤–µ—Ç:**
```json
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "orderId": "123456789",
    "orderLinkId": "custom_order_id"
  }
}
```

#### –û—Ç–º–µ–Ω–∞ –æ—Ä–¥–µ—Ä–∞
```
POST /v5/order/cancel
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "category": "linear",
  "symbol": "BTCUSDT",
  "orderId": "123456789"
}
```

### 4. –†—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

#### –ü–æ–ª—É—á–µ–Ω–∏–µ K-line –¥–∞–Ω–Ω—ã—Ö
```
GET /v5/market/kline
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `category` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –¢–∏–ø –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- `symbol` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞
- `interval` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏
- `limit` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π (–º–∞–∫—Å–∏–º—É–º 1000)

**–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã –≤—Ä–µ–º–µ–Ω–∏:**
- `1`, `3`, `5`, `15`, `30` (–º–∏–Ω—É—Ç—ã)
- `60`, `120`, `240`, `360`, `480`, `720` (—á–∞—Å—ã)
- `D`, `W`, `M` (–¥–µ–Ω—å, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü)

**–û—Ç–≤–µ—Ç:**
```json
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "category": "linear",
    "symbol": "BTCUSDT",
    "list": [
      [
        "1703123456789",  // timestamp
        "50000.00",       // open
        "51000.00",       // high
        "49000.00",       // low
        "50500.00",       // close
        "100.5",          // volume
        "5000000.00"      // turnover
      ]
    ]
  }
}
```

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–∫–µ—Ä–∞—Ö
```
GET /v5/market/tickers
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `category` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –¢–∏–ø –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- `symbol` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞

**–û—Ç–≤–µ—Ç:**
```json
{
  "retCode": 0,
  "retMsg": "OK",
  "result": {
    "category": "linear",
    "list": [
      {
        "symbol": "BTCUSDT",
        "lastPrice": "50500.00",
        "prevPrice24h": "50000.00",
        "price24hPcnt": "1.00",
        "highPrice24h": "51000.00",
        "lowPrice24h": "49000.00",
        "turnover24h": "5000000.00",
        "volume24h": "100.5"
      }
    ]
  }
}
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- **Rate Limit**: 1200 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö API
- **Rate Limit**: 6000 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö API

### 2. –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
- –í—Å–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
- –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –≤—Ä–µ–º–µ–Ω–µ–º —Å–µ—Ä–≤–µ—Ä–∞ –∏ –≤–∞—à–∏–º –≤—Ä–µ–º–µ–Ω–µ–º –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å 5000 –º—Å

### 3. –†–∞–∑–º–µ—Ä—ã –æ—Ä–¥–µ—Ä–æ–≤
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ—Ä–≥–æ–≤–æ–π –ø–∞—Ä—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/v5/market/instruments-info` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```json
{
  "retCode": 10001,
  "retMsg": "Invalid parameter",
  "result": {}
}
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫:**
- `0`: –£—Å–ø–µ—à–Ω–æ
- `10001`: –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
- `10002`: –ù–µ–≤–µ—Ä–Ω–∞—è –ø–æ–¥–ø–∏—Å—å
- `10003`: –í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ
- `10004`: –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á
- `10005`: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤
- `10006`: –ù–µ–≤–µ—Ä–Ω—ã–π —Å–∏–º–≤–æ–ª

## üîß –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
```swift
let endpoint = "/v5/account/wallet-balance"
let url = URL(string: baseURL + endpoint)!

var request = URLRequest(url: url)
request.httpMethod = "GET"
request.allHTTPHeaderFields = createHeaders(method: "GET")

let (data, response) = try await URLSession.shared.data(for: request)
let balanceResponse = try JSONDecoder().decode(WalletBalanceResponse.self, from: data)
```

### –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Ä—ã–Ω–æ—á–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞
```swift
let endpoint = "/v5/order/create"
let url = URL(string: baseURL + endpoint)!

let orderData: [String: Any] = [
    "category": "linear",
    "symbol": "BTCUSDT",
    "side": "Buy",
    "orderType": "Market",
    "qty": "0.001",
    "timeInForce": "GTC"
]

let jsonData = try JSONSerialization.data(withJSONObject: orderData)

var request = URLRequest(url: url)
request.httpMethod = "POST"
request.httpBody = jsonData
request.allHTTPHeaderFields = createHeaders(method: "POST")

let (data, response) = try await URLSession.shared.data(for: request)
let orderResponse = try JSONDecoder().decode(OrderResponse.self, from: data)
```

## üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è iOS
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `URLSession` –¥–ª—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
3. –î–æ–±–∞–≤—å—Ç–µ retry –ª–æ–≥–∏–∫—É –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
4. –ö—ç—à–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ background tasks –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
1. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç–µ API –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Keychain –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
3. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
4. –®–∏—Ñ—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
5. –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ API –∫–ª—é—á–∏

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Bybit](https://bybit-exchange.github.io/docs/v5/intro)
- [API —Å—Ç–∞—Ç—É—Å](https://status.bybit.com/)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞](https://www.bybit.com/en/help-center)
- [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/bybit-exchange)
